!function(V){"use strict";var W=!1,e=V.fn.val;function q(t,n){t.addEventListener("mousedown",function(t){t.preventDefault(),n(t)}),t.addEventListener("touchstart",function(t){t.cancelable&&t.preventDefault(),n(t)}),t.addEventListener("keydown",function(t){32!==t.keyCode&&13!==t.keyCode||W||(W=!0,n(t))})}V.fn.val=function(t){var n;return 1<=arguments.length&&this[0]&&this[0]["bootstrap-input-spinner"]&&this[0].setValue&&(n=this[0],setTimeout(function(){n.setValue(t)})),e.apply(this,arguments)},V.fn.inputSpinner=function(t){if("destroy"===t)return this.each(function(){this.destroyInputSpinner()}),this;var L={decrementButton:"<strong>-</strong>",incrementButton:"<strong>+</strong>",groupClass:"",buttonsClass:"btn-outline-secondary",buttonsWidth:"2.5rem",textAlign:"center",autoDelay:500,autoInterval:100,boostThreshold:10,boostMultiplier:"auto"};for(var n in t)L[n]=t[n];var B='<div class="input-group '+L.groupClass+'"><div class="input-group-prepend"><button style="min-width: '+L.buttonsWidth+'" class="btn btn-decrement '+L.buttonsClass+'" type="button">'+L.decrementButton+'</button></div><input type="text" inputmode="decimal" style="text-align: '+L.textAlign+'" class="form-control"/><div class="input-group-append"><button style="min-width: '+L.buttonsWidth+'" class="btn btn-increment '+L.buttonsClass+'" type="button">'+L.incrementButton+"</button></div></div>",S=navigator.language||"en-US";return this.each(function(){var u=V(this);u[0]["bootstrap-input-spinner"]=!0,u.hide();var n=null,e=null,o="auto"===L.boostMultiplier,a=o?1:L.boostMultiplier,p=V(B),s=p.find(".btn-decrement"),l=p.find(".btn-increment"),c=p.find("input"),d=null,f=null,m=null,v=null,g=null,b=null,h=null;D();var t,r,i=parseFloat(u[0].value),y=0,x=u.attr("data-prefix")||"",E=u.attr("data-suffix")||"";x&&(t=V('<span class="input-group-text">'+x+"</span>"),p.find(".input-group-prepend").append(t)),E&&(r=V('<span class="input-group-text">'+E+"</span>"),p.find(".input-group-append").prepend(r)),u[0].setValue=function(t){F(t)},u[0].destroyInputSpinner=function(){C.disconnect(),k(),c.off("paste input change focusout"),p.remove(),u.show()};var w,M,C=new MutationObserver(function(){D(),F(i,!0)});function F(t,n){void 0===n&&(n=!0),i=isNaN(t)||""===t?(u[0].value="",n&&(c[0].value=""),NaN):(t=parseFloat(t),t=Math.min(Math.max(t,d),f),t=Math.round(t*Math.pow(10,g))/Math.pow(10,g),u[0].value=t,n&&(c[0].value=h.format(t)),t)}function I(n,e){e&&setTimeout(function(){var t;"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),n[0].dispatchEvent(t)})}function N(t){c[0].disabled||c[0].readOnly||(T(t),k(),n=setTimeout(function(){e=setInterval(function(){y>L.boostThreshold?o?(T(t*parseInt(a,10)),a<1e8&&(a*=1.1),v&&(a=Math.min(v,a))):T(t*a):T(t),y++},L.autoInterval)},L.autoDelay))}function T(t){isNaN(i)&&(i=0),F(Math.round(i/t)*t+t),I(u,"input"),I(u,"change")}function k(){y=0,a=o?1:L.boostMultiplier,clearTimeout(n),clearTimeout(e)}function D(){c.prop("required",u.prop("required")),c.prop("placeholder",u.prop("placeholder")),c.attr("inputmode",u.attr("inputmode")||"decimal");var t=u.prop("disabled"),n=u.prop("readonly");c.prop("disabled",t),c.prop("readonly",n),l.prop("disabled",t||n),s.prop("disabled",t||n),(t||n)&&k();var e=u.prop("class"),o="";/form-control-sm/g.test(e)?o="input-group-sm":/form-control-lg/g.test(e)&&(o="input-group-lg");var a=e.replace(/form-control(-(sm|lg))?/g,"");p.prop("class","input-group "+o+" "+L.groupClass),c.prop("class","form-control "+a),d=parseFloat(u.prop("min"))||0,f=isNaN(u.prop("max"))||""===u.prop("max")?1/0:parseFloat(u.prop("max")),m=parseFloat(u.prop("step"))||1,v=parseInt(u.attr("data-step-max"))||0;var r=parseInt(u.attr("data-decimals"))||0,i=!("false"===u.attr("data-digit-grouping"));g===r&&b===i||(g=r,b=i,h=new Intl.NumberFormat(S,{minimumFractionDigits:g,maximumFractionDigits:g,useGrouping:b}))}C.observe(u[0],{attributes:!0}),u.after(p),F(i),c.on("paste input change focusout",function(t){var n,e,o,a,r=c[0].value,i="focusout"===t.type;n=r,e=new Intl.NumberFormat(S),o=e.format(1111).replace(/1/g,""),a=e.format(1.1).replace(/1/g,""),F(r=parseFloat(n.replace(new RegExp("\\"+o,"g"),"").replace(new RegExp("\\"+a),".")),i),I(u,t.type)}),q(s[0],function(){N(-m)}),q(l[0],function(){N(m)}),w=document.body,M=function(){k()},w.addEventListener("mouseup",function(t){M(t)}),w.addEventListener("touchend",function(t){M(t)}),w.addEventListener("keyup",function(t){32!==t.keyCode&&13!==t.keyCode||(W=!1,M(t))})}),this}}(jQuery);
